<?xml version="1.0" encoding="utf-8"?><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-GB" lang="en-GB"><head><meta charset="utf-8"/><link rel="stylesheet" href="style.css" type="text/css"/><title>Networking in Linux Lecture</title></head><body><section class="page"><header><h2 id="page--DIR">Networking in Linux Lecture</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--DIR" class="nav" accesskey="c">Contents</a></td><td><b>Up</b></td><td><b>Prev</b></td><td><a href="#page--goals--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--DIR">Networking in Linux Lecture</a></div></nav><ul class="contentsmain"><li><a href="#page--goals--PAGE" class="contents">1. Lecture Goals</a></li><li><a href="#page--osi--PAGE" class="contents">2. The OSI 7 Layers Model</a></li><li><a href="#page--layer1--DIR" class="contents">3. Layer I - the Physical Layer</a><ul class="contents"><li><a href="#page--layer1--ethernet--PAGE" class="contents">3.1. Ethernet</a></li><li><a href="#page--layer1--dial-up--PAGE" class="contents">3.2. Dial-Up Modem Connection</a></li><li><a href="#page--layer1--cable-adsl--PAGE" class="contents">3.3. Cable TV/ADSL link</a></li><li><a href="#page--layer1--wifi--PAGE" class="contents">3.4. Wireless (WiFi)</a></li></ul></li><li><a href="#page--layer2--DIR" class="contents">4. Layer II - the Data Link Layer</a><ul class="contents"><li><a href="#page--layer2--ppp--PAGE" class="contents">4.1. PPP</a></li><li><a href="#page--layer2--pptp-pppoe--DIR" class="contents">4.2. VPN - PPTP, PPPoE and L2TP</a><ul class="contents"><li><a href="#page--layer2--pptp-pppoe--adsl--PAGE" class="contents">4.2.1. ADSL and Cable under Linux</a></li><li><a href="#page--layer2--pptp-pppoe--dhcp--PAGE" class="contents">4.2.2. DHCP</a></li><li><a href="#page--layer2--pptp-pppoe--pptp-l2tp--PAGE" class="contents">4.2.3. Back to Cable TV Connections...</a></li></ul></li></ul></li><li><a href="#page--layer3--DIR" class="contents">5. Layer III - the Network Layer</a><ul class="contents"><li><a href="#page--layer3--ip--PAGE" class="contents">5.1. Layer 3 Protocols</a></li><li><a href="#page--layer3--ipv4-protocol--PAGE" class="contents">5.2. The IPv4 Protocol</a></li><li><a href="#page--layer3--masquerading--PAGE" class="contents">5.3. Masquerading</a></li></ul></li><li><a href="#page--layer4--DIR" class="contents">6. Layer IV - the Transport Layer</a><ul class="contents"><li><a href="#page--layer4--firewalls--PAGE" class="contents">6.1. Firewalls</a></li></ul></li><li><a href="#page--layer5--PAGE" class="contents">7. Layer V - the Session Layer</a></li><li><a href="#page--layer6--PAGE" class="contents">8. Layer VI - the Presentation Layer</a></li><li><a href="#page--layer7--PAGE" class="contents">9. Layer VII - the Application Layer</a></li><li><a href="#page--bibliography--PAGE" class="contents">10. Bibliography</a></li></ul><hr/></section><section class="page"><header><h2 id="page--goals--PAGE">1. Lecture Goals</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--DIR" class="nav" accesskey="p">Prev</a></td><td><a href="#page--osi--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--DIR">Networking in Linux Lecture</a> → <a href="#page--goals--PAGE">Lecture Goals</a></div></nav><ul><li>Basic overview of networks, and the support in the GNU/Linux environment to the various aspects of networks</li><li>The lecture will not be a "cookbook" like "In order to connect your computer to a specific ISP, you type this and that" - this is what the various HOWTOs on the net are for. I will give links to the relevant HOWTOs during the lecture.</li><li>The lecture aims for correctness, but I sometimes divert from the exact standard definition, in order to get the most interesting things for the home user.</li><li>The lecture doesn't assume any knowledge in computer networks, and my apologies to those who has such knowledge.</li></ul><hr/></section><section class="page"><header><h2 id="page--osi--PAGE">2. The OSI 7 Layers Model</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--goals--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--layer1--DIR" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--DIR">Networking in Linux Lecture</a> → <a href="#page--osi--PAGE">The OSI 7 Layers Model</a></div></nav><ul class="point"><li>The OSI is a model defined by ISO, which splits the network to 7 layers.</li><li>Each of the layers should need to communicate only with the layer above it and the layer below it, through well defined interfaces</li><li>That way it should be possible to replace each layer implementation with a different implementation, with no need to modify any additional network component</li><li>The OSI model defines only the role each layer should perform in the network.</li><li>Here is a diagram of the OSI model:</li></ul><p><img src="7layer.gif" alt="OSI 7 Layers Model"/></p><hr/></section><section class="page"><header><h2 id="page--layer1--DIR">3. Layer I - the Physical Layer</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--osi--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--layer1--ethernet--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--DIR">Networking in Linux Lecture</a> → <a href="#page--layer1--DIR">Layer I - the Physical Layer</a></div></nav><ul class="point"><li>This layer handles all of the physical components of the network.</li><li>This layer includes the network cables, connectors and the interface between the physical network and the software.</li></ul><ul class="contentsmain"><li><a href="#page--layer1--ethernet--PAGE" class="contents">3.1. Ethernet</a></li><li><a href="#page--layer1--dial-up--PAGE" class="contents">3.2. Dial-Up Modem Connection</a></li><li><a href="#page--layer1--cable-adsl--PAGE" class="contents">3.3. Cable TV/ADSL link</a></li><li><a href="#page--layer1--wifi--PAGE" class="contents">3.4. Wireless (WiFi)</a></li></ul><hr/></section><section class="page"><header><h2 id="page--layer1--ethernet--PAGE">3.1. Ethernet</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--layer1--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--layer1--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--layer1--DIR" class="nav" accesskey="p">Prev</a></td><td><a href="#page--layer1--dial-up--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--layer1--DIR">Networking in Linux Lecture</a> → <a href="#page--layer1--DIR">Layer I - the Physical Layer</a> → <a href="#page--layer1--ethernet--PAGE">Ethernet</a></div></nav><ul class="point"><li>Ethernet - this is an IEEE standard (number 802.3), which defines Layer I and Layer II implementation for local area networks</li><li>In home networks, Ethernet is most commonly found as a short patch between the Cable/ADSL modem and the computer, or as the internal network.</li><li>There are a number of variants of the Ethernet standard, with baud-rates varying between 10Mega bit per second (Mbps) and 1000Mbps.</li><li>The most common variant nowadays is 100Mbps (also called Fast-Ethernet)</li></ul><hr/></section><section class="page"><header><h2 id="page--layer1--dial-up--PAGE">3.2. Dial-Up Modem Connection</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--layer1--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--layer1--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--layer1--ethernet--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--layer1--cable-adsl--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--layer1--DIR">Networking in Linux Lecture</a> → <a href="#page--layer1--DIR">Layer I - the Physical Layer</a> → <a href="#page--layer1--dial-up--PAGE">Dial-Up Modem Connection</a></div></nav><ul class="point"><li>The name speaks for itself.</li><li>Maximum baud rate possible with dial-up connection is 56000 bits per second</li><li>The Linux aspect: Except for very expensive hardware modems, there is a problem, as big part of the modem's algorithms is implemented in the driver, and the manufactures tend to release only drivers for windows, or, in the good case, binary only drivers for Linux, which work only with specific versions of the Linux kernel.</li><li>The following sites contain useful resources for using modems under Linux:<ul><li><a href="http://linmodems.technion.ac.il/">http://linmodems.technion.ac.il/</a></li><li><a href="http://flash.to/modem">http://flash.to/modem</a></li></ul></li></ul><hr/></section><section class="page"><header><h2 id="page--layer1--cable-adsl--PAGE">3.3. Cable TV/ADSL link</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--layer1--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--layer1--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--layer1--dial-up--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--layer1--wifi--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--layer1--DIR">Networking in Linux Lecture</a> → <a href="#page--layer1--DIR">Layer I - the Physical Layer</a> → <a href="#page--layer1--cable-adsl--PAGE">Cable TV/ADSL link</a></div></nav><ul class="point"><li>Internal modems for Cable TV/ADSL.</li><li>External Cable TV/ADSL modems usually connect to the computer through Ethernet, though they usually require tunneling.</li></ul><h2>ADSL/CableTV link through USB</h2><ul class="point"><li>Sometimes, the modem is connected to the computer using USB.</li><li>In Israel, the Cable TV USB modem is supported by Linux out of the box, using the usbnet module.</li><li>The ADSL modems are more problematic, and there are only pre-alpha drivers for them, so be sure to ask your dealer or an Ethernet Modem (and not a USB one).</li><li>(The USB ADSL modems are known to be problematic under Windows as well, and should be avoided.)</li></ul><hr/></section><section class="page"><header><h2 id="page--layer1--wifi--PAGE">3.4. Wireless (WiFi)</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--layer1--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--layer1--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--layer1--cable-adsl--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--layer2--DIR" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--layer1--DIR">Networking in Linux Lecture</a> → <a href="#page--layer1--DIR">Layer I - the Physical Layer</a> → <a href="#page--layer1--wifi--PAGE">Wireless (WiFi)</a></div></nav><ul class="point"><li>WiFi (IEEE standard 802.11) is a wide-spreding standard for wireless LAN.</li><li>Linux has support for WiFi .</li><li>See the <a href="http://www.ibiblio.org/pub/Linux/docs/HOWTO/other-formats/html_single/Wireless-HOWTO.html">Wireless-HOWTO</a></li></ul><hr/></section><section class="page"><header><h2 id="page--layer2--DIR">4. Layer II - the Data Link Layer</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--layer1--wifi--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--layer2--ppp--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--DIR">Networking in Linux Lecture</a> → <a href="#page--layer2--DIR">Layer II - the Data Link Layer</a></div></nav><ul class="point"><li>This layer has 2 sub-layers:<ol><li>The MAC (Media Access Control) layer, which makes sure that only one device will try to send data over a shared medium, ignores messages which are not intended to the computer, and drops damaged packets.</li><li>the LLC (Logical Link Control) layer, which makes sure that both sides of every connection are synchronized, and does some error correction.</li></ol></li><li>The MAC layer is usually implemented in hardware and so poses no problem to Linux.</li></ul><ul class="contentsmain"><li><a href="#page--layer2--ppp--PAGE" class="contents">4.1. PPP</a></li><li><a href="#page--layer2--pptp-pppoe--DIR" class="contents">4.2. VPN - PPTP, PPPoE and L2TP</a><ul class="contents"><li><a href="#page--layer2--pptp-pppoe--adsl--PAGE" class="contents">4.2.1. ADSL and Cable under Linux</a></li><li><a href="#page--layer2--pptp-pppoe--dhcp--PAGE" class="contents">4.2.2. DHCP</a></li><li><a href="#page--layer2--pptp-pppoe--pptp-l2tp--PAGE" class="contents">4.2.3. Back to Cable TV Connections...</a></li></ul></li></ul><hr/></section><section class="page"><header><h2 id="page--layer2--ppp--PAGE">4.1. PPP</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--layer2--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--layer2--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--layer2--DIR" class="nav" accesskey="p">Prev</a></td><td><a href="#page--layer2--pptp-pppoe--DIR" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--layer2--DIR">Networking in Linux Lecture</a> → <a href="#page--layer2--DIR">Layer II - the Data Link Layer</a> → <a href="#page--layer2--ppp--PAGE">PPP</a></div></nav><ul class="point"><li>A common implementation to the LLC layer is the PPP protocol</li><li>It is fully supported under Linux, usually out of the box.</li><li>There are many programs which aid in setting up dial-up PPP connections.</li><li>One of the easiest to use is <a href="http://docs.kde.org/en/HEAD/kdenetwork/kppp/index.html">KPPP</a>.</li><li>For more information consult the <a href="http://www.ibiblio.org/pub/Linux/docs/HOWTO/other-formats/html_single/PPP-HOWTO.html">PPP-HOWTO</a>.</li></ul><hr/></section><section class="page"><header><h2 id="page--layer2--pptp-pppoe--DIR">4.2. VPN - PPTP, PPPoE and L2TP</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--layer2--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--layer2--ppp--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--layer2--pptp-pppoe--adsl--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--DIR">Networking in Linux Lecture</a> → <a href="#page--layer2--DIR">Layer II - the Data Link Layer</a> → <a href="#page--layer2--pptp-pppoe--DIR">VPN - PPTP, PPPoE and L2TP</a></div></nav><ul class="point"><li>VPN is Virtual Private Network. It means having a number of computer which are virtually on one network, while on the reality they are on different networks in the internet.</li><li>Many ADSL and Cable providers require their users to connect to them using a VPN.</li><li>In order to create a VPN, it is common to tunnel a whole network protocol stack, down to and including the data link layer, as an application layer (layer 7) connection.</li><li>Few common implementations of such VPN is <b>PPTP</b> (Point-to-Point Tunneling Protocol), <b>L2TP</b> (Layer 2 Tunneling Protocol) and <b>PPPoE</b> (PPP over Ethernet).</li><li>Out of these, the Linux "back-end" support for PPTP and PPPoE is good, while L2TP is still under development.</li></ul><hr/></section><section class="page"><header><h2 id="page--layer2--pptp-pppoe--adsl--PAGE">4.2.1. ADSL and Cable under Linux</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--layer2--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--layer2--pptp-pppoe--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--layer2--pptp-pppoe--DIR" class="nav" accesskey="p">Prev</a></td><td><a href="#page--layer2--pptp-pppoe--dhcp--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--layer2--DIR">Networking in Linux Lecture</a> → <a href="#page--layer2--pptp-pppoe--DIR">Layer II - the Data Link Layer</a> → <a href="#page--layer2--pptp-pppoe--DIR">VPN - PPTP, PPPoE and L2TP</a> → <a href="#page--layer2--pptp-pppoe--adsl--PAGE">ADSL and Cable under Linux</a></div></nav><ul class="point"><li>For ADSL in Israel, PPTP or PPPoE is used for the connection.</li><li>Both are supported under Linux.</li><li>PPPoE is supported natively by most modern distributions, and usually the distribution has a wizard which will help setting up the link.</li><li>The relevant package is called rp-pppoe and includes a script "adsl-setup" to configure your connection and "adsl-start" to initiate a connection after setup.</li><li>The PPTP protocol support is a bit more problematic to set up, but yet possible, and works well.</li><li>A HOWTO about connecting to ADSL in Israel using PPTP (written by Dr. Daniel Arbel and Muli Ben-Yehuda) can be found here: <a href="http://www.mulix.org/adsl.html">http://www.mulix.org/adsl.html</a></li><li>The cable TV Internet access providers sometime provide a direct Ethernet connection, using DHCP to assign IP address and to inform the computer about the network details it need to know, without any need for a tunnel.</li></ul><hr/></section><section class="page"><header><h2 id="page--layer2--pptp-pppoe--dhcp--PAGE">4.2.2. DHCP</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--layer2--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--layer2--pptp-pppoe--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--layer2--pptp-pppoe--adsl--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--layer2--pptp-pppoe--pptp-l2tp--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--layer2--DIR">Networking in Linux Lecture</a> → <a href="#page--layer2--pptp-pppoe--DIR">Layer II - the Data Link Layer</a> → <a href="#page--layer2--pptp-pppoe--DIR">VPN - PPTP, PPPoE and L2TP</a> → <a href="#page--layer2--pptp-pppoe--dhcp--PAGE">DHCP</a></div></nav><ul class="point"><li>DHCP stands for Dynamic Host Configuration Protocol.</li><li>It is a layer III protocol used to assign IP addresses to computers which connect to the net.</li><li>Additionally, DHCP is used to inform the computer about other details of the network, such as the DNS and gateway IPs.</li><li>More details about DHCP in Linux are available in the <a href="http://www.ibiblio.org/pub/Linux/docs/HOWTO/other-formats/html_single/DHCP.html">DHCP HOWTO</a>.</li><li>DHCP-configured connections will usually "just work" if you will select "automatically configure" in your distro network setup.</li></ul><hr/></section><section class="page"><header><h2 id="page--layer2--pptp-pppoe--pptp-l2tp--PAGE">4.2.3. Back to Cable TV Connections...</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--layer2--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--layer2--pptp-pppoe--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--layer2--pptp-pppoe--dhcp--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--layer3--DIR" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--layer2--DIR">Networking in Linux Lecture</a> → <a href="#page--layer2--pptp-pppoe--DIR">Layer II - the Data Link Layer</a> → <a href="#page--layer2--pptp-pppoe--DIR">VPN - PPTP, PPPoE and L2TP</a> → <a href="#page--layer2--pptp-pppoe--pptp-l2tp--PAGE">Back to Cable TV Connections...</a></div></nav><ul class="point"><li>Sometimes, when on windows there is need for a "dialer", the connection requires PPTP or L2TP (most ISPs allow both)</li><li>Eyal Rozenberg has written <a href="http://tx.technion.ac.il/~eyalroz/linux_cable_pptp.html">a HOWTO about connecting using PPTP over cable TV</a></li><li>Etzion Bar-Noy has given a useful <a href="http://www.iarc.org/~ezaton/cables/">"cookbook" lecture</a> about this subject</li></ul><hr/></section><section class="page"><header><h2 id="page--layer3--DIR">5. Layer III - the Network Layer</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--layer2--pptp-pppoe--pptp-l2tp--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--layer3--ip--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--DIR">Networking in Linux Lecture</a> → <a href="#page--layer3--DIR">Layer III - the Network Layer</a></div></nav><ul class="point"><li>This layer handles routing the data from the source computer to the destination computer.</li><li>This layer is the layer that allows us to connect transparently across networks to any computer which is on the Internet.</li></ul><hr/></section><section class="page"><header><h2 id="page--layer3--ip--PAGE">5.1. Layer 3 Protocols</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--layer3--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--layer3--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--layer3--DIR" class="nav" accesskey="p">Prev</a></td><td><a href="#page--layer3--ipv4-protocol--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--layer3--DIR">Networking in Linux Lecture</a> → <a href="#page--layer3--DIR">Layer III - the Network Layer</a> → <a href="#page--layer3--ip--PAGE">Layer 3 Protocols</a></div></nav><ul class="point"><li>The most common protocol in this layer is IPv4.</li><li>Another protocol which is commonly used is ICMP (Internet Control Message Protocol), which is used for various network control tasks.<ul><li>The <a href="http://techpubs.sgi.com/library/tpl/cgi-bin/getdoc.cgi?coll=linux&amp;db=man&amp;fname=/usr/share/catman/man8/ping.8.html&amp;srch=ping"><code>ping</code></a> command is the most common use of ICMP.</li></ul></li><li>Other protocols exist in this layer, and most of them are supported by the Linux kernel, but they are only rarely used.</li></ul><hr/></section><section class="page"><header><h2 id="page--layer3--ipv4-protocol--PAGE">5.2. The IPv4 Protocol</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--layer3--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--layer3--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--layer3--ip--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--layer3--masquerading--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--layer3--DIR">Networking in Linux Lecture</a> → <a href="#page--layer3--DIR">Layer III - the Network Layer</a> → <a href="#page--layer3--ipv4-protocol--PAGE">The IPv4 Protocol</a></div></nav><ul class="point"><li>The IPv4 protocol assigns each device which is connected to the network a 32 bits number (IP address), which should identify it uniquely.</li><li>The problem is that large ranges in the IP "address-space" are reserved for different usages, or assigned to organizations which don't use even a small part of the range .</li><li>Therefore, a new standard for the Network Layer, called IPv6, which has a much larger address space, has been created, and is fully supported by Linux, but it is not commonly used yet.</li></ul><hr/></section><section class="page"><header><h2 id="page--layer3--masquerading--PAGE">5.3. Masquerading</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--layer3--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--layer3--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--layer3--ipv4-protocol--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--layer4--DIR" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--layer3--DIR">Networking in Linux Lecture</a> → <a href="#page--layer3--DIR">Layer III - the Network Layer</a> → <a href="#page--layer3--masquerading--PAGE">Masquerading</a></div></nav><ul class="point"><li>Due to this address-space problem, ISPs provide home users with a single IP address per connection.</li><li>When we want to connect several computers using a normal connection, we give the computers in the internal network a "virtual" IP, which is in one of the ranges reserved for internal networks, and make one of the computers redirect the packets from the external interface to the correct owner in the internal network.</li><li>This process is called <b>Masquerading</b>. During this process, the destination and source addresses of the packets are translated, this is called <b>NAT</b> (Network Address Translation), and can be used for variety of other network magic.</li><li>More details about setting up Masquerading can be found in <a href="http://www.ibiblio.org/pub/Linux/docs/HOWTO/other-formats/html_single/IP-Masquerade-HOWTO.html">the Masquerading HOWTO</a></li></ul><hr/></section><section class="page"><header><h2 id="page--layer4--DIR">6. Layer IV - the Transport Layer</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--layer3--masquerading--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--layer4--firewalls--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--DIR">Networking in Linux Lecture</a> → <a href="#page--layer4--DIR">Layer IV - the Transport Layer</a></div></nav><ul class="point"><li>This layer is responsible for multiplexing a number of connections over a single link, splits the data into small packets, make sure that the data is received in the order in which it was sent, and perform error correction and retransmit the data in case of error.</li><li>Two common protocols used in this layer are TCP (which provides all of these services, but incurs a small bandwidth and CPU overhead), and UDP, which only supplies multiplexing services, but has much smaller overhead.</li></ul><hr/></section><section class="page"><header><h2 id="page--layer4--firewalls--PAGE">6.1. Firewalls</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--layer4--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--layer4--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--layer4--DIR" class="nav" accesskey="p">Prev</a></td><td><a href="#page--layer5--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--layer4--DIR">Networking in Linux Lecture</a> → <a href="#page--layer4--DIR">Layer IV - the Transport Layer</a> → <a href="#page--layer4--firewalls--PAGE">Firewalls</a></div></nav><ul class="point"><li>The transport layer is the main layer for firewalls to operate in.</li><li>The main function of firewalls is to filter the packets transferred on the network, so that only the packets we wish to accept will come through.</li><li>There are two types of firewalls: stateful and stateless.</li><li>The Linux Kernel has a built-in stateful firewall module, called "iptables" or "netfilter".</li><li>More details about configuring firewall in Linux can be found here: <a href="http://www.netfilter.org/documentation/index.html#HOWTO">http://www.netfilter.org/documentation/index.html#HOWTO</a></li><li>Eli Billauer has given <a href="http://www.haifux.org/lectures/70/">a lecture about iptables</a>.</li></ul><hr/></section><section class="page"><header><h2 id="page--layer5--PAGE">7. Layer V - the Session Layer</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--layer4--firewalls--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--layer6--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--DIR">Networking in Linux Lecture</a> → <a href="#page--layer5--PAGE">Layer V - the Session Layer</a></div></nav><ul class="point"><li>This layer is mostly theoretical.</li><li>It is supposed to provide synchronization services and to keep track of users through different transport connections.</li><li>RPC and Named network pipes can be considered to be part of this layer.</li></ul><hr/></section><section class="page"><header><h2 id="page--layer6--PAGE">8. Layer VI - the Presentation Layer</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--layer5--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--layer7--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--DIR">Networking in Linux Lecture</a> → <a href="#page--layer6--PAGE">Layer VI - the Presentation Layer</a></div></nav><ul class="point"><li>This layer is mostly theoretical.</li><li>This layer should handle the format of the data transferred.</li><li>It is supposed to translate data from host format to a standard network format, in order to allow seam-less connection between different hosts.</li><li>This layer is the one in which encryption should take place.</li><li>In practical networks nowadays, the roles of this layer are mostly performed in the application layer.</li></ul><hr/></section><section class="page"><header><h2 id="page--layer7--PAGE">9. Layer VII - the Application Layer</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--layer6--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--bibliography--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--DIR">Networking in Linux Lecture</a> → <a href="#page--layer7--PAGE">Layer VII - the Application Layer</a></div></nav><ul class="point"><li>This layer is the layer in which the various user applications (i.e. web browsing - HTTP; e-mail - SMTP, POP3 and IMAP; File transfers - FTP, TFTP, SMB, KaZaA and SCP) are implemented.</li><li>One important application layer service which should be noted is the DNS service, which operates on UDP port 53, and used to translate domain names like <a href="http://www.haifux.org/">www.haifux.org</a> to IP numbers like 132.69.253.254 .</li><li>Sometime during the configuration of a connection, one will have to specify the IP of the DNS server of the ISP.</li></ul><hr/></section><section class="page"><header><h2 id="page--bibliography--PAGE">10. Bibliography</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--layer7--PAGE" class="nav" accesskey="p">Prev</a></td><td><b>Next</b></td></tr></table><div class="bread"><a href="#page--DIR">Networking in Linux Lecture</a> → <a href="#page--bibliography--PAGE">Bibliography</a></div></nav><p>The following websites were used during the preparation of this lecture:</p><p><a href="http://www.tldp.org/">http://www.tldp.org/</a></p><p><a href="http://www2.rad.com/networks/1994/osi/layers.htm">http://www2.rad.com/networks/1994/osi/layers.htm</a></p><p><a href="http://www.geocities.com/SiliconValley/Monitor/3131/ne/osimodel.html">http://www.geocities.com/SiliconValley/Monitor/3131/ne/osimodel.html</a></p><p><a href="http://www.webopedia.com/quick_ref/OSI_Layers.asp">http://www.webopedia.com/quick_ref/OSI_Layers.asp</a></p><p><a href="http://www.ictp.trieste.it/~radionet/1998_school/networking_presentation/page1.html">http://www.ictp.trieste.it/~radionet/1998_school/networking_presentation/page1.html</a></p><p><a href="http://www.netfilter.org/">http://www.netfilter.org/</a></p><p><a href="http://en.wikipedia.org/wiki/DHCP">http://en.wikipedia.org/wiki/DHCP</a></p><p><a href="http://en.wikipedia.org/wiki/DNS">http://en.wikipedia.org/wiki/DNS</a></p><p><a href="http://en.wikipedia.org/wiki/ICMP">http://en.wikipedia.org/wiki/ICMP</a></p><hr/></section></body></html>
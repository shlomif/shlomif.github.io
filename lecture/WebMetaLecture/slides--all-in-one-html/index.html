<?xml version="1.0" encoding="utf-8"?><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-GB" lang="en-GB"><head><meta charset="utf-8"/><link rel="stylesheet" href="style.css" type="text/css"/><title>WebMetaLecture - a lecture about Website Meta Language</title></head><body><section class="page"><header><h2 id="page--DIR">WebMetaLecture - a lecture about Website Meta Language</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--DIR" class="nav" accesskey="c">Contents</a></td><td><b>Up</b></td><td><b>Prev</b></td><td><a href="#page--intro--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--DIR">WebMetaLecture - a lecture about Website Meta Language</a></div></nav><ul class="contentsmain"><li><a href="#page--intro--PAGE" class="contents">1. Introduction</a></li><li><a href="#page--why_static_html--PAGE" class="contents">2. Why Static HTML?</a></li><li><a href="#page--methodology--PAGE" class="contents">3. The WML Methodology</a></li><li><a href="#page--html_is_wml--PAGE" class="contents">4. HTML is WML!</a></li><li><a href="#page--common_look--DIR" class="contents">5. Example 1 : Common Look and Feel</a><ul class="contents"><li><a href="#page--common_look--template--PAGE" class="contents">5.1. The Template File</a></li><li><a href="#page--common_look--pages--PAGE" class="contents">5.2. The Individual Pages</a></li><li><a href="#page--common_look--makefile--PAGE" class="contents">5.3. The Makefile</a></li><li><a href="#page--common_look--final--PAGE" class="contents">5.4. The Final Site</a></li></ul></li><li><a href="#page--bolding--DIR" class="contents">6. Example 2 : Bolding the NavBar entry of the Existing Page</a><ul class="contents"><li><a href="#page--bolding--template--PAGE" class="contents">6.1. The New Template File</a></li><li><a href="#page--bolding--final--PAGE" class="contents">6.2. The New Final Site</a></li></ul></li><li><a href="#page--meta-tag--DIR" class="contents">7. Example 3 : Creating a Meta-Tag</a><ul class="contents"><li><a href="#page--meta-tag--template--PAGE" class="contents">7.1. The New Template File</a></li><li><a href="#page--meta-tag--final--PAGE" class="contents">7.2. The Final Site</a></li></ul></li><li><a href="#page--frames--DIR" class="contents">8. Example 4 : Frames-Enabled and Non-Frames-Enabled Sites</a><ul class="contents"><li><a href="#page--frames--makefile--PAGE" class="contents">8.1. The Modified Makefile</a></li><li><a href="#page--frames--navbar--PAGE" class="contents">8.2. New File: navbar.wml</a></li><li><a href="#page--frames--template--PAGE" class="contents">8.3. The Modified Template</a></li><li><a href="#page--frames--navbar-frame--PAGE" class="contents">8.4. navbar-frame.html.wml</a></li><li><a href="#page--frames--final--PAGE" class="contents">8.5. The Final Site</a></li></ul></li><li><a href="#page--faq-l--DIR" class="contents">9. Example 5 : An FAQ List</a><ul class="contents"><li><a href="#page--faq-l--questions--PAGE" class="contents">9.1. questions.wml - the data</a></li><li><a href="#page--faq-l--api--PAGE" class="contents">9.2. api.wml - the code</a></li><li><a href="#page--faq-l--index_answers--PAGE" class="contents">9.3. index.html.wml and answers.html.wml</a></li><li><a href="#page--faq-l--result--PAGE" class="contents">9.4. The Result</a></li></ul></li><li><a href="#page--apis--DIR" class="contents">10. Demonstrating Some APIs</a><ul class="contents"><li><a href="#page--apis--grid--PAGE" class="contents">10.1. grid</a></li><li><a href="#page--apis--toc--PAGE" class="contents">10.2. toc</a></li></ul></li></ul><hr/></section><section class="page"><header><h2 id="page--intro--PAGE">1. Introduction</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--DIR" class="nav" accesskey="p">Prev</a></td><td><a href="#page--why_static_html--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--DIR">WebMetaLecture - a lecture about Website Meta Language</a> → <a href="#page--intro--PAGE">Introduction</a></div></nav><ul class="point"><li><a href="http://thewml.org/">Website Meta Language</a> (or WML for short) is a toolkit for generating static HTML pages.</li><li>It was originally created by <a href="http://www.engelschall.com">Ralf S. Engelschall</a> and is now maintained by Denis Barbier</li><li>WML processes the source file through 9 distinct filters and generates an output HTML from it.</li></ul><hr/></section><section class="page"><header><h2 id="page--why_static_html--PAGE">2. Why Static HTML?</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--intro--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--methodology--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--DIR">WebMetaLecture - a lecture about Website Meta Language</a> → <a href="#page--why_static_html--PAGE">Why Static HTML?</a></div></nav><h2>Why Static HTML?</h2><p>Server-side-generated HTML is:</p><ol><li>Necessarily slower than static HTML.</li><li>Prune to bugs, security holes and security breaches. (<code>eval($q-&gt;param("code"))</code> anyone?)</li><li>For many sites, whose content does not change very often, it is completely unnecessary.</li></ol><h2>Static HTML Done Right</h2><p>Maintaining static HTML by hand is painful. Usually it creates crammy sites, which either don't have a navigation bar or have one that has to be maintained across all pages. Some sites put all the pages into one directory to simplify cross-referencing them. Cascading Style Sheets can help a bit here, but they are not a panacea.</p><p>Another option is to use WYSIWYG Content-Management Systems such as Microsoft FrontPage. This is known to create bloated or browser-dependant HTML, and you are often limited by the functionality that was built into the CMS.</p><p>Yet another option is to create your own ad-hoc content management system. (e.g: a perl script that will render your pages) However, this will have to be extended in time, and you'll probably invent something that <b>is not as</b> good as Website Meta Language which is already very mature and complete. I remember writing something like that myself in PHP for an older incarnation of the IGLU site, and know other people who created similar solutions for their own need. None of them was as good or as versatile as Website Meta Language.</p><p>Finally, Website Meta Language and pre-rendered XSL stylesheets give you fine control on the HTML generated while allowing you to do anything Turing Complete. Website Meta Language has been around longer than XSL. By virtue of integrating Perl it can do anything Perl does, while XSL is a virtual machine without much capabilities of interaction with the outside world. I also think WML has a better human-factors engineering, but that's a matter of state.</p><hr/></section><section class="page"><header><h2 id="page--methodology--PAGE">3. The WML Methodology</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--why_static_html--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--html_is_wml--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--DIR">WebMetaLecture - a lecture about Website Meta Language</a> → <a href="#page--methodology--PAGE">The WML Methodology</a></div></nav><ul class="point"><li>WML makes 9 passes at the input file:</li></ul><ol><li>Source Reading and Include File Expansion (ipp)</li><li>HTML Macro Construct Expansion (mp4h) (Meta-tags, conditionals, etc)</li><li>Perl 5 Programming Construct Expansion (eperl)</li><li>M4 Macro Construct Expansion (gm4)</li><li>Diversion Filter (divert) - diverting text to different locations</li><li>Character and String Substitution (asubst)</li><li>HTML Fix-up (htmlfix)</li><li>Line Stripping and Output Fix-up (htmlstrip)</li><li>Output Splitting and Final Writing (slice)</li></ol><hr/></section><section class="page"><header><h2 id="page--html_is_wml--PAGE">4. HTML is WML!</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--methodology--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--common_look--DIR" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--DIR">WebMetaLecture - a lecture about Website Meta Language</a> → <a href="#page--html_is_wml--PAGE">HTML is WML!</a></div></nav><ul class="point"><li>Most HTML will pass through the Website Meta Language processor unchanged.</li><li>Website Meta Language code mostly looks and behaves like HTML.</li></ul><hr/></section><section class="page"><header><h2 id="page--common_look--DIR">5. Example 1 : Common Look and Feel</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--html_is_wml--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--common_look--template--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--DIR">WebMetaLecture - a lecture about Website Meta Language</a> → <a href="#page--common_look--DIR">Example 1 : Common Look and Feel</a></div></nav><ul class="point"><li>In this example we will build a sample site with all the pages having a common look and feel.</li><li>We will use WML to generate the pages and GNU Make as the glue to generate them.</li></ul><ul class="contentsmain"><li><a href="#page--common_look--template--PAGE" class="contents">5.1. The Template File</a></li><li><a href="#page--common_look--pages--PAGE" class="contents">5.2. The Individual Pages</a></li><li><a href="#page--common_look--makefile--PAGE" class="contents">5.3. The Makefile</a></li><li><a href="#page--common_look--final--PAGE" class="contents">5.4. The Final Site</a></li></ul><hr/></section><section class="page"><header><h2 id="page--common_look--template--PAGE">5.1. The Template File</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--common_look--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--common_look--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--common_look--DIR" class="nav" accesskey="p">Prev</a></td><td><a href="#page--common_look--pages--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--common_look--DIR">WebMetaLecture - a lecture about Website Meta Language</a> → <a href="#page--common_look--DIR">Example 1 : Common Look and Feel</a> → <a href="#page--common_look--template--PAGE">The Template File</a></div></nav><div class="code_block"><pre>
<span class="Identifier">&lt;?xml </span><span class="Type">version</span><span class="Identifier">=</span><span class="Constant">&quot;1.0&quot;</span><span class="Identifier"> encoding=</span><span class="Constant">&quot;utf-8&quot;</span><span class="Identifier">?&gt;</span>
<span class="Identifier">&lt;!DOCTYPE html&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">html</span><span class="Identifier"> xmlns=</span><span class="Constant">&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="Identifier"> xml:</span><span class="Type">lang</span><span class="Identifier">=</span><span class="Constant">&quot;en-US&quot;</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">head</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">title</span><span class="Identifier">&gt;</span>&#x7B;#SUBJECT_LOC#&#x7D;<span class="Identifier">&lt;/</span><span class="Statement">title</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">meta</span><span class="Identifier"> </span><span class="Type">charset</span><span class="Identifier">=</span><span class="Constant">&quot;utf-8&quot;</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">link</span><span class="Identifier"> </span><span class="Type">rel</span><span class="Identifier">=</span><span class="Constant">&quot;stylesheet&quot;</span><span class="Identifier"> </span><span class="Type">href</span><span class="Identifier">=</span><span class="Constant">&quot;$(ROOT)/style.css&quot;</span><span class="Identifier"> </span><span class="Type">type</span><span class="Identifier">=</span><span class="Constant">&quot;text/css&quot;</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">head</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">body</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">table</span><span class="Identifier"> </span><span class="Type">class</span><span class="Identifier">=</span><span class="Constant">&quot;layout&quot;</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">tr</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">td</span><span class="Identifier"> </span><span class="Type">class</span><span class="Identifier">=</span><span class="Constant">&quot;navbar&quot;</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">a</span><span class="Identifier"> </span><span class="Type">href</span><span class="Identifier">=</span><span class="Constant">&quot;$(ROOT)/&quot;</span><span class="Identifier">&gt;</span>Main<span class="Identifier">&lt;/</span><span class="Statement">a</span><span class="Identifier">&gt;&lt;</span><span class="Statement">br</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">a</span><span class="Identifier"> </span><span class="Type">href</span><span class="Identifier">=</span><span class="Constant">&quot;$(ROOT)/download.html&quot;</span><span class="Identifier">&gt;</span>Download<span class="Identifier">&lt;/</span><span class="Statement">a</span><span class="Identifier">&gt;&lt;</span><span class="Statement">br</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">a</span><span class="Identifier"> </span><span class="Type">href</span><span class="Identifier">=</span><span class="Constant">&quot;$(ROOT)/links.html&quot;</span><span class="Identifier">&gt;</span>Links<span class="Identifier">&lt;/</span><span class="Statement">a</span><span class="Identifier">&gt;&lt;</span><span class="Statement">br</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">br</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">a</span><span class="Identifier"> </span><span class="Type">href</span><span class="Identifier">=</span><span class="Constant">&quot;mailto:webmaster@mysite.org&quot;</span><span class="Identifier">&gt;</span>Webmaster<span class="Identifier">&lt;/</span><span class="Statement">a</span><span class="Identifier">&gt;&lt;</span><span class="Statement">br</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">td</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">td</span><span class="Identifier"> </span><span class="Type">class</span><span class="Identifier">=</span><span class="Constant">&quot;main&quot;</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">h1</span><span class="Identifier">&gt;</span>&#x7B;#SUBJECT_LOC#&#x7D;<span class="Identifier">&lt;/</span><span class="Statement">h1</span><span class="Identifier">&gt;</span>
&#x7B;#BODY#&#x7D;
<span class="Identifier">&lt;/</span><span class="Statement">td</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">tr</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">table</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;/</span><span class="Statement">body</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">html</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">define-tag</span><span class="Identifier"> subject&gt;</span>
&#x7B;#SUBJECT_LOC#:%0:##&#x7D;
<span class="Identifier">&lt;/</span><span class="Statement">define-tag</span><span class="Identifier">&gt;</span>

<span class="Comment">#   per default we are in body</span>
&#x7B;#BODY#:
</pre></div><ul class="point"><li>&#123;# ... #&#125; are the mechanisms used to define and place diverted texts.</li><li>%0 is the first parameter given to the <code>subject</code> meta-tag.</li><li>&#036;(ROOT) is an ipp variable used to define the path to the base directory of the site.</li></ul><hr/></section><section class="page"><header><h2 id="page--common_look--pages--PAGE">5.2. The Individual Pages</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--common_look--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--common_look--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--common_look--template--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--common_look--makefile--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--common_look--DIR">WebMetaLecture - a lecture about Website Meta Language</a> → <a href="#page--common_look--DIR">Example 1 : Common Look and Feel</a> → <a href="#page--common_look--pages--PAGE">The Individual Pages</a></div></nav><h2>index.html.wml</h2><div class="code_block"><pre>
<span class="Comment">#include 'template.wml'</span>

<span class="Identifier">&lt;</span>subject<span class="Identifier"> </span><span class="Constant">&quot;Foo Site&quot;</span><span class="Identifier"> /&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">p</span><span class="Identifier">&gt;</span>
Welcome visitors to my humble site. You can find downloads in the
<span class="Identifier">&lt;</span><span class="Statement">a</span><span class="Identifier"> </span><span class="Type">href</span><span class="Identifier">=</span><span class="Constant">&quot;$(ROOT)/download.html&quot;</span><span class="Identifier">&gt;</span>downloads section<span class="Identifier">&lt;/</span><span class="Statement">a</span><span class="Identifier">&gt;</span> and links in the
<span class="Identifier">&lt;</span><span class="Statement">a</span><span class="Identifier"> </span><span class="Type">href</span><span class="Identifier">=</span><span class="Constant">&quot;$(ROOT)/links.html&quot;</span><span class="Identifier">&gt;</span>links section<span class="Identifier">&lt;/</span><span class="Statement">a</span><span class="Identifier">&gt;</span>.
<span class="Identifier">&lt;/</span><span class="Statement">p</span><span class="Identifier">&gt;</span>
</pre></div><h2>links.html.wml</h2><div class="code_block"><pre>
<span class="Comment">#include 'template.wml'</span>

<span class="Identifier">&lt;</span>subject<span class="Identifier"> </span><span class="Constant">&quot;Links&quot;</span><span class="Identifier"> /&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">p</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">a</span><span class="Identifier"> </span><span class="Type">href</span><span class="Identifier">=</span><span class="Constant">&quot;http://linuxclub.il.eu.org/&quot;</span><span class="Identifier">&gt;</span>The Haifa Linux Club<span class="Identifier">&lt;/</span><span class="Statement">a</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">p</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">p</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">a</span><span class="Identifier"> </span><span class="Type">href</span><span class="Identifier">=</span><span class="Constant">&quot;http://www.google.com/&quot;</span><span class="Identifier">&gt;</span>Google<span class="Identifier">&lt;/</span><span class="Statement">a</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">p</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">p</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">a</span><span class="Identifier"> </span><span class="Type">href</span><span class="Identifier">=</span><span class="Constant">&quot;http://thewml.org/&quot;</span><span class="Identifier">&gt;</span>The Website Meta Language<span class="Identifier">&lt;/</span><span class="Statement">a</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">p</span><span class="Identifier">&gt;</span>
</pre></div><h2>download.html.wml</h2><div class="code_block"><pre>
<span class="Comment">#include 'template.wml'</span>

<span class="Identifier">&lt;</span>subject<span class="Identifier"> </span><span class="Constant">&quot;Downloads&quot;</span><span class="Identifier"> /&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">p</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">a</span><span class="Identifier"> </span><span class="Type">href</span><span class="Identifier">=</span><span class="Constant">&quot;my-non-existent-archive.tar.gz&quot;</span><span class="Identifier">&gt;</span>A polynomial solution for the
travelling salesman problem.<span class="Identifier">&lt;/</span><span class="Statement">a</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">p</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">p</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">a</span><span class="Identifier"> </span><span class="Type">href</span><span class="Identifier">=</span><span class="Constant">&quot;my-document.pdf&quot;</span><span class="Identifier">&gt;</span>Proof of the Goldbach Conjecture<span class="Identifier">&lt;/</span><span class="Statement">a</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">p</span><span class="Identifier">&gt;</span>
</pre></div><h2>Explanation</h2><ul class="point"><li>The <code>#include 'template.wml'</code> directive instructs ipp to include the template.wml file (a la C's #include directive)</li><li>The <code>&lt;subject "My Subject" /&gt;</code> meta-tag was declared in the template file.</li></ul><hr/></section><section class="page"><header><h2 id="page--common_look--makefile--PAGE">5.3. The Makefile</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--common_look--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--common_look--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--common_look--pages--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--common_look--final--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--common_look--DIR">WebMetaLecture - a lecture about Website Meta Language</a> → <a href="#page--common_look--DIR">Example 1 : Common Look and Feel</a> → <a href="#page--common_look--makefile--PAGE">The Makefile</a></div></nav><div class="code_block"><pre>
<span class="Identifier">D </span>= dest

<span class="Identifier">TARGETS </span>= <span class="Identifier">$(D)</span>/index.html <span class="Identifier">$(D)</span>/links.html <span class="Identifier">$(D)</span>/download.html
<span class="Identifier">IMAGES </span>= <span class="Identifier">$(D)</span>/style.css

<span class="Identifier">all:</span> <span class="Identifier">$(TARGETS)</span> <span class="Identifier">$(IMAGES)</span>

<span class="Comment"># This flag makes sure WML generates XHTML output</span>
<span class="Identifier">WML_FLAGS </span>= --passoption=2,-X

<span class="Comment"># This flag sets ROOT to be the current directory</span>
<span class="Identifier">WML_FLAGS </span>+= -D ROOT~.

<span class="Identifier">$(TARGETS) ::</span> <span class="Identifier">$(D)</span>/<span class="Identifier">%</span> : <span class="Identifier">%</span>.wml template.wml
<span class="Constant">	wml </span><span class="Identifier">$(WML_FLAGS)</span><span class="Constant"> -DFILENAME=&quot;</span><span class="Identifier">$(</span><span class="Statement">notdir</span><span class="Identifier"> $@)</span><span class="Constant">&quot; </span><span class="Identifier">$&lt;</span><span class="Constant"> &gt; </span><span class="Identifier">$@</span>

<span class="Identifier">$(IMAGES) ::</span> <span class="Identifier">$(D)</span>/<span class="Identifier">%</span> : <span class="Identifier">%</span>
<span class="Constant">	cp -f </span><span class="Identifier">$&lt;</span><span class="Constant"> </span><span class="Identifier">$@</span>
</pre></div><hr/></section><section class="page"><header><h2 id="page--common_look--final--PAGE">5.4. The Final Site</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--common_look--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--common_look--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--common_look--makefile--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--bolding--DIR" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--common_look--DIR">WebMetaLecture - a lecture about Website Meta Language</a> → <a href="#page--common_look--DIR">Example 1 : Common Look and Feel</a> → <a href="#page--common_look--final--PAGE">The Final Site</a></div></nav><p>Check <a href="http://www.shlomifish.org/lecture/WebMetaLecture/rendered/common_look/">here</a> .</p><hr/></section><section class="page"><header><h2 id="page--bolding--DIR">6. Example 2 : Bolding the NavBar entry of the Existing Page</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--common_look--final--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--bolding--template--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--DIR">WebMetaLecture - a lecture about Website Meta Language</a> → <a href="#page--bolding--DIR">Example 2 : Bolding the NavBar entry of the Existing Page</a></div></nav><ul class="point"><li>In this example we will cause the navigation bar entry of the currently viewed page to be bolded, and its link disabled.</li><li>All the source files remain the same except for <code>template.wml</code>.</li></ul><ul class="contentsmain"><li><a href="#page--bolding--template--PAGE" class="contents">6.1. The New Template File</a></li><li><a href="#page--bolding--final--PAGE" class="contents">6.2. The New Final Site</a></li></ul><hr/></section><section class="page"><header><h2 id="page--bolding--template--PAGE">6.1. The New Template File</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--bolding--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--bolding--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--bolding--DIR" class="nav" accesskey="p">Prev</a></td><td><a href="#page--bolding--final--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--bolding--DIR">WebMetaLecture - a lecture about Website Meta Language</a> → <a href="#page--bolding--DIR">Example 2 : Bolding the NavBar entry of the Existing Page</a> → <a href="#page--bolding--template--PAGE">The New Template File</a></div></nav><div class="code_block"><pre>
<span class="Identifier">&lt;?xml </span><span class="Type">version</span><span class="Identifier">=</span><span class="Constant">&quot;1.0&quot;</span><span class="Identifier"> encoding=</span><span class="Constant">&quot;utf-8&quot;</span><span class="Identifier">?&gt;</span>
<span class="Identifier">&lt;!DOCTYPE html&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">html</span><span class="Identifier"> xmlns=</span><span class="Constant">&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="Identifier"> xml:</span><span class="Type">lang</span><span class="Identifier">=</span><span class="Constant">&quot;en-US&quot;</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">head</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">title</span><span class="Identifier">&gt;</span>&#x7B;#SUBJECT_LOC#&#x7D;<span class="Identifier">&lt;/</span><span class="Statement">title</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">meta</span><span class="Identifier"> </span><span class="Type">charset</span><span class="Identifier">=</span><span class="Constant">&quot;utf-8&quot;</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">link</span><span class="Identifier"> </span><span class="Type">rel</span><span class="Identifier">=</span><span class="Constant">&quot;stylesheet&quot;</span><span class="Identifier"> </span><span class="Type">href</span><span class="Identifier">=</span><span class="Constant">&quot;$(ROOT)/style.css&quot;</span><span class="Identifier"> </span><span class="Type">type</span><span class="Identifier">=</span><span class="Constant">&quot;text/css&quot;</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">head</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">body</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">table</span><span class="Identifier"> </span><span class="Type">class</span><span class="Identifier">=</span><span class="Constant">&quot;layout&quot;</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">tr</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">td</span><span class="Identifier"> </span><span class="Type">class</span><span class="Identifier">=</span><span class="Constant">&quot;navbar&quot;</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span>ifneq<span class="Identifier"> </span><span class="Constant">&quot;$(FILENAME)&quot;</span><span class="Identifier"> </span><span class="Constant">&quot;index.html&quot;</span>
<span class="Identifier">    </span><span class="Constant">&quot;&lt;a href=&quot;</span><span class="Identifier">$(ROOT)/</span><span class="Constant">&quot;&gt;Main&lt;/a&gt;&quot;</span>
<span class="Identifier">    </span><span class="Constant">&quot;&lt;b&gt;Main&lt;/b&gt;&quot;</span>
<span class="Identifier">    /&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">br</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;</span>ifneq<span class="Identifier"> </span><span class="Constant">&quot;$(FILENAME)&quot;</span><span class="Identifier"> </span><span class="Constant">&quot;download.html&quot;</span>
<span class="Identifier">    </span><span class="Constant">&quot;&lt;a href=&quot;</span><span class="Identifier">$(ROOT)/</span><span class="Type">download</span><span class="Identifier">.html</span><span class="Constant">&quot;&gt;Download&lt;/a&gt;&quot;</span>
<span class="Identifier">    </span><span class="Constant">&quot;&lt;b&gt;Download&lt;/b&gt;&quot;</span>
<span class="Identifier">    /&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">br</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;</span>ifneq<span class="Identifier"> </span><span class="Constant">&quot;$(FILENAME)&quot;</span><span class="Identifier"> </span><span class="Constant">&quot;links.html&quot;</span>
<span class="Identifier">    </span><span class="Constant">&quot;&lt;a href=&quot;</span><span class="Identifier">$(ROOT)/links.html</span><span class="Constant">&quot;&gt;Links&lt;/a&gt;&quot;</span>
<span class="Identifier">    </span><span class="Constant">&quot;&lt;b&gt;Links&lt;/b&gt;&quot;</span>
<span class="Identifier">    /&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">br</span><span class="Identifier"> /&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">br</span><span class="Identifier"> /&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">a</span><span class="Identifier"> </span><span class="Type">href</span><span class="Identifier">=</span><span class="Constant">&quot;mailto:webmaster@mysite.org&quot;</span><span class="Identifier">&gt;</span>Webmaster<span class="Identifier">&lt;/</span><span class="Statement">a</span><span class="Identifier">&gt;&lt;</span><span class="Statement">br</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">td</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">td</span><span class="Identifier"> </span><span class="Type">class</span><span class="Identifier">=</span><span class="Constant">&quot;main&quot;</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">h1</span><span class="Identifier">&gt;</span>&#x7B;#SUBJECT_LOC#&#x7D;<span class="Identifier">&lt;/</span><span class="Statement">h1</span><span class="Identifier">&gt;</span>
&#x7B;#BODY#&#x7D;
<span class="Identifier">&lt;/</span><span class="Statement">td</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">tr</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">table</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;/</span><span class="Statement">body</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">html</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">define-tag</span><span class="Identifier"> subject&gt;</span>
&#x7B;#SUBJECT_LOC#:%0:##&#x7D;
<span class="Identifier">&lt;/</span><span class="Statement">define-tag</span><span class="Identifier">&gt;</span>

<span class="Comment">#   per default we are in body</span>
&#x7B;#BODY#:
</pre></div><h2>Explanation</h2><p><code>&lt;ifneq ...&gt;</code> compares its first two arguments - if they are not equal, it expands to its third argument, else it expands to its fourth. There's also <code>&lt;ifeq ... &gt;</code>.</p><hr/></section><section class="page"><header><h2 id="page--bolding--final--PAGE">6.2. The New Final Site</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--bolding--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--bolding--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--bolding--template--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--meta-tag--DIR" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--bolding--DIR">WebMetaLecture - a lecture about Website Meta Language</a> → <a href="#page--bolding--DIR">Example 2 : Bolding the NavBar entry of the Existing Page</a> → <a href="#page--bolding--final--PAGE">The New Final Site</a></div></nav><p>Check <a href="http://www.shlomifish.org/lecture/WebMetaLecture/rendered/bolding/">here</a> .</p><hr/></section><section class="page"><header><h2 id="page--meta-tag--DIR">7. Example 3 : Creating a Meta-Tag</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--bolding--final--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--meta-tag--template--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--DIR">WebMetaLecture - a lecture about Website Meta Language</a> → <a href="#page--meta-tag--DIR">Example 3 : Creating a Meta-Tag</a></div></nav><ul class="point"><li>The previous example contained a lot of duplicate functionality.Let's abstract it in a meta-tag.</li><li>Again, we only need to change the template file.</li></ul><ul class="contentsmain"><li><a href="#page--meta-tag--template--PAGE" class="contents">7.1. The New Template File</a></li><li><a href="#page--meta-tag--final--PAGE" class="contents">7.2. The Final Site</a></li></ul><hr/></section><section class="page"><header><h2 id="page--meta-tag--template--PAGE">7.1. The New Template File</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--meta-tag--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--meta-tag--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--meta-tag--DIR" class="nav" accesskey="p">Prev</a></td><td><a href="#page--meta-tag--final--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--meta-tag--DIR">WebMetaLecture - a lecture about Website Meta Language</a> → <a href="#page--meta-tag--DIR">Example 3 : Creating a Meta-Tag</a> → <a href="#page--meta-tag--template--PAGE">The New Template File</a></div></nav><div class="code_block"><pre>
<span class="Identifier">&lt;?xml </span><span class="Type">version</span><span class="Identifier">=</span><span class="Constant">&quot;1.0&quot;</span><span class="Identifier"> encoding=</span><span class="Constant">&quot;utf-8&quot;</span><span class="Identifier">?&gt;</span>
<span class="Identifier">&lt;!DOCTYPE html&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">html</span><span class="Identifier"> xmlns=</span><span class="Constant">&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="Identifier"> xml:</span><span class="Type">lang</span><span class="Identifier">=</span><span class="Constant">&quot;en-US&quot;</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">head</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">title</span><span class="Identifier">&gt;</span>&#x7B;#SUBJECT_LOC#&#x7D;<span class="Identifier">&lt;/</span><span class="Statement">title</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">meta</span><span class="Identifier"> </span><span class="Type">charset</span><span class="Identifier">=</span><span class="Constant">&quot;utf-8&quot;</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">link</span><span class="Identifier"> </span><span class="Type">rel</span><span class="Identifier">=</span><span class="Constant">&quot;stylesheet&quot;</span><span class="Identifier"> </span><span class="Type">href</span><span class="Identifier">=</span><span class="Constant">&quot;$(ROOT)/style.css&quot;</span><span class="Identifier"> </span><span class="Type">type</span><span class="Identifier">=</span><span class="Constant">&quot;text/css&quot;</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">head</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">body</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">table</span><span class="Identifier"> </span><span class="Type">class</span><span class="Identifier">=</span><span class="Constant">&quot;layout&quot;</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">tr</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">td</span><span class="Identifier"> </span><span class="Type">class</span><span class="Identifier">=</span><span class="Constant">&quot;navbar&quot;</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">define-tag</span><span class="Identifier"> navbarlink&gt;</span>
<span class="Identifier">&lt;</span>if
<span class="Identifier">    ;;; Determine if %0 matches this document</span>
<span class="Identifier">    </span><span class="Error">&lt;</span><span class="Identifier">ifeq </span><span class="Constant">&quot;$(FILENAME)&quot;</span><span class="Identifier"> </span><span class="Constant">&quot;%0&quot;</span>
<span class="Identifier">        </span><span class="Constant">&quot;1&quot;</span>
<span class="Identifier">        </span><span class="Error">&lt;</span><span class="Identifier">ifeq </span><span class="Constant">&quot;$(FILENAME)&quot;</span><span class="Identifier"> </span><span class="Constant">&quot;%0index.html&quot;</span>
<span class="Identifier">            </span><span class="Constant">&quot;1&quot;</span>
<span class="Identifier">            </span><span class="Constant">&quot;&quot;</span>
<span class="Identifier">        /&gt;</span>

    /<span class="Error">&gt;</span>
    ;;; If so - bolds the text
    &quot;<span class="Identifier">&lt;</span><span class="Statement">b</span><span class="Identifier">&gt;</span>%1<span class="Identifier">&lt;/</span><span class="Statement">b</span><span class="Identifier">&gt;</span>&quot;
    ;;; If not - makes a hyperlink
    &quot;<span class="Identifier">&lt;</span><span class="Statement">a</span><span class="Identifier"> </span><span class="Type">href</span><span class="Identifier">=</span><span class="Constant">&quot;$(ROOT)/%0&quot;</span><span class="Identifier">&gt;</span>%1<span class="Identifier">&lt;/</span><span class="Statement">a</span><span class="Identifier">&gt;</span>&quot;
/<span class="Error">&gt;</span><span class="Identifier">&lt;</span><span class="Statement">br</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">define-tag</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span>navbarlink<span class="Identifier"> </span><span class="Constant">&quot;&quot;</span><span class="Identifier"> </span><span class="Constant">&quot;Main&quot;</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;</span>navbarlink<span class="Identifier"> </span><span class="Constant">&quot;download.html&quot;</span><span class="Identifier"> </span><span class="Constant">&quot;Downloads&quot;</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;</span>navbarlink<span class="Identifier"> </span><span class="Constant">&quot;links.html&quot;</span><span class="Identifier"> </span><span class="Constant">&quot;Links&quot;</span><span class="Identifier"> /&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">br</span><span class="Identifier"> /&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">a</span><span class="Identifier"> </span><span class="Type">href</span><span class="Identifier">=</span><span class="Constant">&quot;mailto:webmaster@mysite.org&quot;</span><span class="Identifier">&gt;</span>Webmaster<span class="Identifier">&lt;/</span><span class="Statement">a</span><span class="Identifier">&gt;&lt;</span><span class="Statement">br</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">td</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">td</span><span class="Identifier"> </span><span class="Type">class</span><span class="Identifier">=</span><span class="Constant">&quot;main&quot;</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">h1</span><span class="Identifier">&gt;</span>&#x7B;#SUBJECT_LOC#&#x7D;<span class="Identifier">&lt;/</span><span class="Statement">h1</span><span class="Identifier">&gt;</span>
&#x7B;#BODY#&#x7D;
<span class="Identifier">&lt;/</span><span class="Statement">td</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">tr</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">table</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;/</span><span class="Statement">body</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">html</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">define-tag</span><span class="Identifier"> subject&gt;</span>
&#x7B;#SUBJECT_LOC#:%0:##&#x7D;
<span class="Identifier">&lt;/</span><span class="Statement">define-tag</span><span class="Identifier">&gt;</span>

<span class="Comment">#   per default we are in body</span>
&#x7B;#BODY#:
</pre></div><h2>Explanation</h2><ul><li><code>&lt;if ... /&gt;</code> is a conditional. It evaluates to the second argument if its condition is not an empty space, and to the third otherwise.</li><li><code>%0</code> and <code>%1</code> are the arguments to the tag.</li><li><code>;&#059;;</code> is a comment of mp4h.</li></ul><hr/></section><section class="page"><header><h2 id="page--meta-tag--final--PAGE">7.2. The Final Site</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--meta-tag--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--meta-tag--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--meta-tag--template--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--frames--DIR" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--meta-tag--DIR">WebMetaLecture - a lecture about Website Meta Language</a> → <a href="#page--meta-tag--DIR">Example 3 : Creating a Meta-Tag</a> → <a href="#page--meta-tag--final--PAGE">The Final Site</a></div></nav><p>Check <a href="http://www.shlomifish.org/lecture/WebMetaLecture/rendered/meta-tag/">here</a> .</p><hr/></section><section class="page"><header><h2 id="page--frames--DIR">8. Example 4 : Frames-Enabled and Non-Frames-Enabled Sites</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--meta-tag--final--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--frames--makefile--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--DIR">WebMetaLecture - a lecture about Website Meta Language</a> → <a href="#page--frames--DIR">Example 4 : Frames-Enabled and Non-Frames-Enabled Sites</a></div></nav><ul class="point"><li>In this exercise, we'll take the previous example and turn it into a site that has a frames-enabled and non-frames-enabled versions.</li><li>For this we are going to use the WML Slices mechanism.</li></ul><ul class="contentsmain"><li><a href="#page--frames--makefile--PAGE" class="contents">8.1. The Modified Makefile</a></li><li><a href="#page--frames--navbar--PAGE" class="contents">8.2. New File: navbar.wml</a></li><li><a href="#page--frames--template--PAGE" class="contents">8.3. The Modified Template</a></li><li><a href="#page--frames--navbar-frame--PAGE" class="contents">8.4. navbar-frame.html.wml</a></li><li><a href="#page--frames--final--PAGE" class="contents">8.5. The Final Site</a></li></ul><hr/></section><section class="page"><header><h2 id="page--frames--makefile--PAGE">8.1. The Modified Makefile</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--frames--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--frames--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--frames--DIR" class="nav" accesskey="p">Prev</a></td><td><a href="#page--frames--navbar--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--frames--DIR">WebMetaLecture - a lecture about Website Meta Language</a> → <a href="#page--frames--DIR">Example 4 : Frames-Enabled and Non-Frames-Enabled Sites</a> → <a href="#page--frames--makefile--PAGE">The Modified Makefile</a></div></nav><div class="code_block"><pre>
<span class="Identifier">D </span>= dest

<span class="Identifier">TARGETS </span>= <span class="Identifier">$(D)</span>/index.html <span class="Identifier">$(D)</span>/links.html <span class="Identifier">$(D)</span>/download.html
<span class="Identifier">IMAGES </span>= <span class="Identifier">$(D)</span>/style.css <span class="Identifier">$(D)</span>/frames.html

<span class="Identifier">all:</span> <span class="Identifier">$(TARGETS)</span> <span class="Identifier">$(IMAGES)</span> <span class="Identifier">$(D)</span>/navbar-frame.html

<span class="Comment"># This flag makes sure WML generates XHTML output</span>
<span class="Identifier">WML_FLAGS </span>= --passoption=2,-X

<span class="Comment"># This flag sets ROOT to be the current directory</span>
<span class="Identifier">WML_FLAGS </span>+= -D ROOT~.

<span class="Identifier">$(D)/navbar-frame.html :</span> navbar-frame.html.wml
<span class="Constant">	wml </span><span class="Identifier">$(WML_FLAGS)</span><span class="Constant"> -o </span><span class="Identifier">$@</span><span class="Constant"> </span><span class="Identifier">$&lt;</span>

<span class="Identifier">$(TARGETS) ::</span> <span class="Identifier">$(D)</span>/<span class="Identifier">%</span> : <span class="Identifier">%</span>.wml template.wml
<span class="Constant">	wml </span><span class="Identifier">$(WML_FLAGS)</span><span class="Constant"> -o UNDEF+NOFRAMES:</span><span class="Identifier">$@</span><span class="Constant"> -o UNDEF+FRAMES:</span><span class="Identifier">$@</span><span class="Constant">.frames.html -DFILENAME=&quot;</span><span class="Identifier">$(</span><span class="Statement">notdir</span><span class="Identifier"> $@)</span><span class="Constant">&quot; </span><span class="Identifier">$&lt;</span>

<span class="Identifier">$(IMAGES) ::</span> <span class="Identifier">$(D)</span>/<span class="Identifier">%</span> : <span class="Identifier">%</span>
<span class="Constant">	cp -f </span><span class="Identifier">$&lt;</span><span class="Constant"> </span><span class="Identifier">$@</span>
</pre></div><h2>Explanation</h2><p>From each file we generate two files. One with a regular extension in which the slice <code>NOFRAMES</code> is defined. The other with a <code>.frames.html</code> extension with the slice <code>FRAMES</code> defined.</p><hr/></section><section class="page"><header><h2 id="page--frames--navbar--PAGE">8.2. New File: navbar.wml</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--frames--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--frames--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--frames--makefile--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--frames--template--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--frames--DIR">WebMetaLecture - a lecture about Website Meta Language</a> → <a href="#page--frames--DIR">Example 4 : Frames-Enabled and Non-Frames-Enabled Sites</a> → <a href="#page--frames--navbar--PAGE">New File: navbar.wml</a></div></nav><div class="code_block"><pre>
<span class="Identifier">&lt;</span>navbarlink<span class="Identifier"> </span><span class="Constant">&quot;&quot;</span><span class="Identifier"> </span><span class="Constant">&quot;Main&quot;</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;</span>navbarlink<span class="Identifier"> </span><span class="Constant">&quot;download.html&quot;</span><span class="Identifier"> </span><span class="Constant">&quot;Downloads&quot;</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;</span>navbarlink<span class="Identifier"> </span><span class="Constant">&quot;links.html&quot;</span><span class="Identifier"> </span><span class="Constant">&quot;Links&quot;</span><span class="Identifier"> /&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">br</span><span class="Identifier"> /&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">a</span><span class="Identifier"> </span><span class="Type">href</span><span class="Identifier">=</span><span class="Constant">&quot;mailto:webmaster@mysite.org&quot;</span><span class="Identifier">&gt;</span>Webmaster<span class="Identifier">&lt;/</span><span class="Statement">a</span><span class="Identifier">&gt;&lt;</span><span class="Statement">br</span><span class="Identifier"> /&gt;</span>
</pre></div><ul class="point"><li>This file contains the text of the navigation bar.</li></ul><hr/></section><section class="page"><header><h2 id="page--frames--template--PAGE">8.3. The Modified Template</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--frames--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--frames--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--frames--navbar--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--frames--navbar-frame--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--frames--DIR">WebMetaLecture - a lecture about Website Meta Language</a> → <a href="#page--frames--DIR">Example 4 : Frames-Enabled and Non-Frames-Enabled Sites</a> → <a href="#page--frames--template--PAGE">The Modified Template</a></div></nav><div class="code_block"><pre>
<span class="Identifier">&lt;?xml </span><span class="Type">version</span><span class="Identifier">=</span><span class="Constant">&quot;1.0&quot;</span><span class="Identifier"> encoding=</span><span class="Constant">&quot;utf-8&quot;</span><span class="Identifier">?&gt;</span>
<span class="Identifier">&lt;!DOCTYPE html&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">html</span><span class="Identifier"> xmlns=</span><span class="Constant">&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="Identifier"> xml:</span><span class="Type">lang</span><span class="Identifier">=</span><span class="Constant">&quot;en-US&quot;</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">head</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">title</span><span class="Identifier">&gt;</span>&#x7B;#SUBJECT_LOC#&#x7D;<span class="Identifier">&lt;/</span><span class="Statement">title</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">meta</span><span class="Identifier"> </span><span class="Type">charset</span><span class="Identifier">=</span><span class="Constant">&quot;utf-8&quot;</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">link</span><span class="Identifier"> </span><span class="Type">rel</span><span class="Identifier">=</span><span class="Constant">&quot;stylesheet&quot;</span><span class="Identifier"> </span><span class="Type">href</span><span class="Identifier">=</span><span class="Constant">&quot;$(ROOT)/style.css&quot;</span><span class="Identifier"> </span><span class="Type">type</span><span class="Identifier">=</span><span class="Constant">&quot;text/css&quot;</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">head</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">body</span><span class="Identifier">&gt;</span>

[FRAMES::]
[NOFRAMES:
<span class="Identifier">&lt;</span><span class="Statement">table</span><span class="Identifier"> </span><span class="Type">class</span><span class="Identifier">=</span><span class="Constant">&quot;layout&quot;</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">tr</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">td</span><span class="Identifier"> </span><span class="Type">class</span><span class="Identifier">=</span><span class="Constant">&quot;navbar&quot;</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">define-tag</span><span class="Identifier"> navbarlink&gt;</span>
<span class="Identifier">&lt;</span>if
<span class="Identifier">    ;;; Determine if %0 matches this document</span>
<span class="Identifier">    </span><span class="Error">&lt;</span><span class="Identifier">ifeq </span><span class="Constant">&quot;$(FILENAME)&quot;</span><span class="Identifier"> </span><span class="Constant">&quot;%0&quot;</span>
<span class="Identifier">        </span><span class="Constant">&quot;1&quot;</span>
<span class="Identifier">        </span><span class="Error">&lt;</span><span class="Identifier">ifeq </span><span class="Constant">&quot;$(FILENAME)&quot;</span><span class="Identifier"> </span><span class="Constant">&quot;%0index.html&quot;</span>
<span class="Identifier">            </span><span class="Constant">&quot;1&quot;</span>
<span class="Identifier">            </span><span class="Constant">&quot;&quot;</span>
<span class="Identifier">        /&gt;</span>

    /<span class="Error">&gt;</span>
    ;;; If so - bolds the text
    &quot;<span class="Identifier">&lt;</span><span class="Statement">b</span><span class="Identifier">&gt;</span>%1<span class="Identifier">&lt;/</span><span class="Statement">b</span><span class="Identifier">&gt;</span>&quot;
    ;;; If not - makes a hyperlink
    &quot;<span class="Identifier">&lt;</span><span class="Statement">a</span><span class="Identifier"> </span><span class="Type">href</span><span class="Identifier">=</span><span class="Constant">&quot;$(ROOT)/%0&quot;</span><span class="Identifier">&gt;</span>%1<span class="Identifier">&lt;/</span><span class="Statement">a</span><span class="Identifier">&gt;</span>&quot;
/<span class="Error">&gt;</span><span class="Identifier">&lt;</span><span class="Statement">br</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">define-tag</span><span class="Identifier">&gt;</span>

<span class="Comment">#include 'navbar.wml'</span>

<span class="Identifier">&lt;</span><span class="Statement">br</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">a</span><span class="Identifier"> </span><span class="Type">href</span><span class="Identifier">=</span><span class="Constant">&quot;$(ROOT)/frames.html&quot;</span><span class="Identifier">&gt;</span>Frames Enabled Site<span class="Identifier">&lt;/</span><span class="Statement">a</span><span class="Identifier">&gt;&lt;</span><span class="Statement">br</span><span class="Identifier"> /&gt;</span>

<span class="Identifier">&lt;/</span><span class="Statement">td</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">td</span><span class="Identifier"> </span><span class="Type">class</span><span class="Identifier">=</span><span class="Constant">&quot;main&quot;</span><span class="Identifier">&gt;</span>
:]
<span class="Identifier">&lt;</span><span class="Statement">h1</span><span class="Identifier">&gt;</span>&#x7B;#SUBJECT_LOC#&#x7D;<span class="Identifier">&lt;/</span><span class="Statement">h1</span><span class="Identifier">&gt;</span>
&#x7B;#BODY#&#x7D;
[FRAMES::]
[NOFRAMES:
<span class="Identifier">&lt;/</span><span class="Statement">td</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">tr</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">table</span><span class="Identifier">&gt;</span>
:]
<span class="Identifier">&lt;/</span><span class="Statement">body</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">html</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">define-tag</span><span class="Identifier"> subject&gt;</span>
&#x7B;#SUBJECT_LOC#:%0:##&#x7D;
<span class="Identifier">&lt;/</span><span class="Statement">define-tag</span><span class="Identifier">&gt;</span>

<span class="Comment">#   per default we are in body</span>
&#x7B;#BODY#:
</pre></div><h2>Explanation</h2><ul><li><code>&#091;SLICE:Text of Slice:&#093;</code> denotes a text that appears only if the slice <code>SLICE</code> is defined.</li><li>It is possible to do such stuff on slices' union, intersection, etc. Consult the man page of <code>wml_p9_slice</code> for more information.</li></ul><hr/></section><section class="page"><header><h2 id="page--frames--navbar-frame--PAGE">8.4. navbar-frame.html.wml</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--frames--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--frames--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--frames--template--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--frames--final--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--frames--DIR">WebMetaLecture - a lecture about Website Meta Language</a> → <a href="#page--frames--DIR">Example 4 : Frames-Enabled and Non-Frames-Enabled Sites</a> → <a href="#page--frames--navbar-frame--PAGE">navbar-frame.html.wml</a></div></nav><div class="code_block"><pre>
<span class="Identifier">&lt;?xml </span><span class="Type">version</span><span class="Identifier">=</span><span class="Constant">&quot;1.0&quot;</span><span class="Identifier"> encoding=</span><span class="Constant">&quot;utf-8&quot;</span><span class="Identifier">?&gt;</span>
<span class="Identifier">&lt;!DOCTYPE html&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">html</span><span class="Identifier"> xmlns=</span><span class="Constant">&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="Identifier"> xml:</span><span class="Type">lang</span><span class="Identifier">=</span><span class="Constant">&quot;en-US&quot;</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">head</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">title</span><span class="Identifier">&gt;</span>Navigation Bar<span class="Identifier">&lt;/</span><span class="Statement">title</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">meta</span><span class="Identifier"> </span><span class="Type">charset</span><span class="Identifier">=</span><span class="Constant">&quot;utf-8&quot;</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">link</span><span class="Identifier"> </span><span class="Type">rel</span><span class="Identifier">=</span><span class="Constant">&quot;StyleSheet&quot;</span><span class="Identifier"> </span><span class="Type">href</span><span class="Identifier">=</span><span class="Constant">&quot;$(ROOT)/style.css&quot;</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">head</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">body</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">define-tag</span><span class="Identifier"> navbarlink&gt;</span>
<span class="Comment"># Check if we are an index page and define suffix accordingly</span>
<span class="Identifier">&lt;</span>if<span class="Identifier"> </span><span class="Error">&lt;</span><span class="Identifier">match </span><span class="Constant">&quot;%0&quot;</span><span class="Identifier"> </span><span class="Constant">&quot;(/$)|(^$)&quot;</span><span class="Identifier"> </span><span class="Type">action</span><span class="Identifier">=</span><span class="Constant">&quot;report&quot;</span><span class="Identifier"> /&gt;</span>
    <span class="Identifier">&lt;</span>set-<span class="Statement">var</span><span class="Identifier"> suffix=</span><span class="Constant">&quot;index.html&quot;</span><span class="Identifier"> /&gt;</span>
    <span class="Identifier">&lt;</span>set-<span class="Statement">var</span><span class="Identifier"> suffix=</span><span class="Constant">&quot;&quot;</span><span class="Identifier"> /&gt;</span>
    /<span class="Error">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">a</span><span class="Identifier"> </span><span class="Type">href</span><span class="Identifier">=</span><span class="Constant">&quot;%0&lt;get-var suffix /&gt;.frames.html&quot;</span><span class="Identifier">&gt;</span>%1<span class="Identifier">&lt;/</span><span class="Statement">a</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">br</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">define-tag</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">p</span><span class="Identifier">&gt;</span>
<span class="Comment">#include 'navbar.wml'</span>

<span class="Identifier">&lt;</span><span class="Statement">br</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">a</span><span class="Identifier"> </span><span class="Type">href</span><span class="Identifier">=</span><span class="Constant">&quot;$(ROOT)&quot;</span><span class="Identifier">&gt;</span>No Frames Version<span class="Identifier">&lt;/</span><span class="Statement">a</span><span class="Identifier">&gt;&lt;</span><span class="Statement">br</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">p</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;/</span><span class="Statement">body</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">html</span><span class="Identifier">&gt;</span>
</pre></div><h2>Explanation</h2><p>One can see her use of variables - <code>&lt;set-var ... &gt;</code> and <code>&lt;get-var ... &gt;</code>.</p><hr/></section><section class="page"><header><h2 id="page--frames--final--PAGE">8.5. The Final Site</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--frames--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--frames--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--frames--navbar-frame--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--faq-l--DIR" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--frames--DIR">WebMetaLecture - a lecture about Website Meta Language</a> → <a href="#page--frames--DIR">Example 4 : Frames-Enabled and Non-Frames-Enabled Sites</a> → <a href="#page--frames--final--PAGE">The Final Site</a></div></nav><p>Check <a href="http://www.shlomifish.org/lecture/WebMetaLecture/rendered/frames/">here</a> .</p><hr/></section><section class="page"><header><h2 id="page--faq-l--DIR">9. Example 5 : An FAQ List</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--frames--final--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--faq-l--questions--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--DIR">WebMetaLecture - a lecture about Website Meta Language</a> → <a href="#page--faq-l--DIR">Example 5 : An FAQ List</a></div></nav><ul class="point"><li>In this example (which is not related to the previous ones) we will create a list of frequently-asked questions with a separate page for the questions and a separate one for the answers.</li><li>This time we will use Perl to program the tags.</li></ul><ul class="contentsmain"><li><a href="#page--faq-l--questions--PAGE" class="contents">9.1. questions.wml - the data</a></li><li><a href="#page--faq-l--api--PAGE" class="contents">9.2. api.wml - the code</a></li><li><a href="#page--faq-l--index_answers--PAGE" class="contents">9.3. index.html.wml and answers.html.wml</a></li><li><a href="#page--faq-l--result--PAGE" class="contents">9.4. The Result</a></li></ul><hr/></section><section class="page"><header><h2 id="page--faq-l--questions--PAGE">9.1. questions.wml - the data</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--faq-l--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--faq-l--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--faq-l--DIR" class="nav" accesskey="p">Prev</a></td><td><a href="#page--faq-l--api--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--faq-l--DIR">WebMetaLecture - a lecture about Website Meta Language</a> → <a href="#page--faq-l--DIR">Example 5 : An FAQ List</a> → <a href="#page--faq-l--questions--PAGE">questions.wml - the data</a></div></nav><div class="code_block"><pre>
<span class="Identifier">&lt;</span><span class="Statement">define-tag</span><span class="Identifier"> mytitle&gt;</span>
The Pi FAQ - <span class="Identifier">&lt;</span>if<span class="Identifier"> </span><span class="Error">&lt;</span><span class="Identifier">get-var render-body /&gt;</span> &quot;Answers&quot; &quot;Table of Contents&quot; /<span class="Error">&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">define-tag</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;?xml </span><span class="Type">version</span><span class="Identifier">=</span><span class="Constant">&quot;1.0&quot;</span><span class="Identifier"> encoding=</span><span class="Constant">&quot;utf-8&quot;</span><span class="Identifier">?&gt;</span>
<span class="Identifier">&lt;!DOCTYPE html&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">html</span><span class="Identifier"> xmlns=</span><span class="Constant">&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="Identifier"> xml:</span><span class="Type">lang</span><span class="Identifier">=</span><span class="Constant">&quot;en-US&quot;</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">head</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">title</span><span class="Identifier">&gt;&lt;</span>mytitle<span class="Identifier"> /&gt;&lt;/</span><span class="Statement">title</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">meta</span><span class="Identifier"> </span><span class="Type">charset</span><span class="Identifier">=</span><span class="Constant">&quot;utf-8&quot;</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">link</span><span class="Identifier"> </span><span class="Type">rel</span><span class="Identifier">=</span><span class="Constant">&quot;stylesheet&quot;</span><span class="Identifier"> </span><span class="Type">href</span><span class="Identifier">=</span><span class="Constant">&quot;$(ROOT)/style.css&quot;</span><span class="Identifier"> </span><span class="Type">type</span><span class="Identifier">=</span><span class="Constant">&quot;text/css&quot;</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">head</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">body</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">h1</span><span class="Identifier">&gt;&lt;</span>mytitle<span class="Identifier"> /&gt;&lt;/</span><span class="Statement">h1</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span>if<span class="Identifier"> </span><span class="Constant">&quot;&lt;get-var render-body /&gt;&quot;</span>
<span class="Identifier">    </span><span class="Constant">&quot;&quot;</span>
<span class="Identifier">    </span><span class="Constant">&quot;&lt;p&gt;&quot;</span>
<span class="Identifier">    /&gt;</span>

<span class="Identifier">&lt;</span>question<span class="Identifier"> anchor=</span><span class="Constant">&quot;what_is&quot;</span><span class="Identifier"> </span><span class="Type">title</span><span class="Identifier">=</span><span class="Constant">&quot;What is Pi?&quot;</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">p</span><span class="Identifier">&gt;</span>
Pi is the sum of the infinite series 1 - 1/3 + 1/5 - 1/7 + 1/9 - 1/11...
multiplied by 4.
<span class="Identifier">&lt;/</span><span class="Statement">p</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;/</span>question<span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span>question<span class="Identifier"> anchor=</span><span class="Constant">&quot;how_much&quot;</span><span class="Identifier"> </span><span class="Type">title</span><span class="Identifier">=</span><span class="Constant">&quot;How much is Pi, approximately?&quot;</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">p</span><span class="Identifier">&gt;</span>
The value of Pi varies according to the radius of the circle, so it's
hard to tell.
<span class="Identifier">&lt;/</span><span class="Statement">p</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;/</span>question<span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span>question<span class="Identifier"> anchor=</span><span class="Constant">&quot;approx&quot;</span><span class="Identifier"> </span><span class="Type">title</span><span class="Identifier">=</span><span class="Constant">&quot;Approximating Pi&quot;</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;/</span>question<span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span>promote<span class="Identifier"> /&gt;</span>

<span class="Identifier">&lt;</span>question<span class="Identifier"> anchor=</span><span class="Constant">&quot;when_zeroes&quot;</span>
<span class="Identifier">          </span><span class="Type">title</span><span class="Identifier">=</span><span class="Constant">&quot;How many digits will I have to produce to reach a state of all-zeroes?&quot;</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">p</span><span class="Identifier">&gt;</span>
It was proven that after a number between 1.345698 and 1.74 times 10 ** 12
digits, Pi is all zeros.
<span class="Identifier">&lt;/</span><span class="Statement">p</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;/</span>question<span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span>question<span class="Identifier"> anchor=</span><span class="Constant">&quot;complexity&quot;</span><span class="Identifier"> </span><span class="Type">title</span><span class="Identifier">=</span><span class="Constant">&quot;What is the fastest algorithm for approximating Pi?&quot;</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">p</span><span class="Identifier">&gt;</span>
Approximating Pi was found to be NP-Complete.
<span class="Identifier">&lt;/</span><span class="Statement">p</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;/</span>question<span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span>demote<span class="Identifier"> /&gt;</span>

<span class="Identifier">&lt;</span>question<span class="Identifier"> anchor=</span><span class="Constant">&quot;Uses&quot;</span><span class="Identifier"> </span><span class="Type">title</span><span class="Identifier">=</span><span class="Constant">&quot;What can I do with Pi?&quot;</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">p</span><span class="Identifier">&gt;</span>
The most common use of Pi is to generate random sequences. A far less common
use is for geometrical and trigonometrical calculations.
<span class="Identifier">&lt;/</span><span class="Statement">p</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;/</span>question<span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span>if<span class="Identifier"> </span><span class="Constant">&quot;&lt;get-var render-body /&gt;&quot;</span>
<span class="Identifier">    </span><span class="Constant">&quot;&quot;</span>
<span class="Identifier">    </span><span class="Constant">&quot;&lt;/p&gt;&quot;</span>
<span class="Identifier">    /&gt;</span>

<span class="Identifier">&lt;/</span><span class="Statement">body</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">html</span><span class="Identifier">&gt;</span>
</pre></div><hr/></section><section class="page"><header><h2 id="page--faq-l--api--PAGE">9.2. api.wml - the code</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--faq-l--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--faq-l--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--faq-l--questions--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--faq-l--index_answers--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--faq-l--DIR">WebMetaLecture - a lecture about Website Meta Language</a> → <a href="#page--faq-l--DIR">Example 5 : An FAQ List</a> → <a href="#page--faq-l--api--PAGE">api.wml - the code</a></div></nav><div class="code_block"><pre>
&lt;:&#x7B;
<span class="Statement">use vars</span> <span class="Constant">qw(@question_number)</span>;

<span class="Identifier">@question_number</span>=(<span class="Constant">0</span>);
&#x7D;:&gt;

;;; Perl code here:
<span class="Identifier">&lt;</span><span class="Statement">define-tag</span><span class="Identifier"> next-question&gt;</span>&lt;:&#x7B;
    <span class="Statement">my</span> <span class="Identifier">$temp</span> = <span class="Statement">pop</span>(<span class="Identifier">@question_number</span>)+<span class="Constant">1</span>;
    <span class="Statement">push</span> <span class="Identifier">@question_number</span>, <span class="Identifier">$temp</span>;
    <span class="Statement">my</span> <span class="Identifier">$qn_text</span> = <span class="Statement">join</span>(<span class="Constant">&quot;.&quot;</span>, <span class="Identifier">@question_number</span>);
    <span class="Statement">print</span> <span class="Identifier">$qn_text</span>;
&#x7D;:&gt;<span class="Identifier">&lt;/</span><span class="Statement">define-tag</span><span class="Identifier">&gt;</span>

;;; Perl code here:
<span class="Identifier">&lt;</span><span class="Statement">define-tag</span><span class="Identifier"> promote&gt;</span>&lt;:&#x7B;
    <span class="Statement">push</span> <span class="Identifier">@question_number</span>, <span class="Constant">0</span>;
&#x7D;:&gt;<span class="Identifier">&lt;/</span><span class="Statement">define-tag</span><span class="Identifier">&gt;</span>

;;; Perl code here:
<span class="Identifier">&lt;</span><span class="Statement">define-tag</span><span class="Identifier"> demote&gt;</span>&lt;:&#x7B;
    <span class="Statement">pop</span>(<span class="Identifier">@question_number</span>);
&#x7D;:&gt;<span class="Identifier">&lt;/</span><span class="Statement">define-tag</span><span class="Identifier">&gt;</span>



<span class="Identifier">&lt;</span><span class="Statement">define-tag</span><span class="Identifier"> question endtag=</span><span class="Constant">&quot;required&quot;</span><span class="Identifier">&gt;</span>
;;; Define anchor to be the first argument
<span class="Identifier">&lt;</span>preserve<span class="Identifier"> anchor /&gt;</span>
;;; Define title to be the second argument
<span class="Identifier">&lt;</span>preserve<span class="Identifier"> </span><span class="Type">title</span><span class="Identifier"> /&gt;</span>

;;; This statement is required to actually set
;;; anchor and title to a proper value
<span class="Identifier">&lt;</span>set-<span class="Statement">var</span><span class="Identifier"> %attributes /&gt;</span>

;;; next-question is defined above
<span class="Identifier">&lt;</span>set-<span class="Statement">var</span><span class="Identifier"> question-number=</span><span class="Constant">&quot;&lt;next-question /&gt;&quot;</span><span class="Identifier"> /&gt;</span>

<span class="Identifier">&lt;</span>if<span class="Identifier"> </span><span class="Error">&lt;</span><span class="Identifier">get-var render-body /&gt;</span>
;;; If the question should be rendered.
        &quot;
        <span class="Identifier">&lt;</span><span class="Statement">p</span><span class="Identifier"> </span><span class="Type">id</span><span class="Identifier">=</span><span class="Constant">&quot;&lt;get-var anchor /&gt;&quot;</span><span class="Identifier">&gt;&lt;</span><span class="Statement">b</span><span class="Identifier">&gt;&lt;</span>get-<span class="Statement">var</span><span class="Identifier"> question-number /&gt;</span>. <span class="Identifier">&lt;</span>get-<span class="Statement">var</span><span class="Identifier"> </span><span class="Type">title</span><span class="Identifier"> /&gt;&lt;/</span><span class="Statement">b</span><span class="Identifier">&gt;&lt;/</span><span class="Statement">p</span><span class="Identifier">&gt;</span>
        %body
        &quot;
;;; If not
    &quot;<span class="Identifier">&lt;</span><span class="Statement">a</span><span class="Identifier"> </span><span class="Type">href</span><span class="Identifier">=</span><span class="Constant">&quot;answers.html#&lt;get-var anchor /&gt;&quot;</span><span class="Identifier">&gt;&lt;</span>get-<span class="Statement">var</span><span class="Identifier"> question-number /&gt;</span>. <span class="Identifier">&lt;</span>get-<span class="Statement">var</span><span class="Identifier"> </span><span class="Type">title</span><span class="Identifier"> /&gt;&lt;/</span><span class="Statement">a</span><span class="Identifier">&gt;&lt;</span><span class="Statement">br</span><span class="Identifier"> /&gt;</span>&quot;
    /<span class="Error">&gt;</span>
;;; Restore their previous values
<span class="Identifier">&lt;</span><span class="Statement">restore</span><span class="Identifier"> </span><span class="Type">title</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">restore</span><span class="Identifier"> anchor /&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">define-tag</span><span class="Identifier">&gt;</span>
</pre></div><hr/></section><section class="page"><header><h2 id="page--faq-l--index_answers--PAGE">9.3. index.html.wml and answers.html.wml</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--faq-l--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--faq-l--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--faq-l--api--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--faq-l--result--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--faq-l--DIR">WebMetaLecture - a lecture about Website Meta Language</a> → <a href="#page--faq-l--DIR">Example 5 : An FAQ List</a> → <a href="#page--faq-l--index_answers--PAGE">index.html.wml and answers.html.wml</a></div></nav><h2>index.html.wml</h2><div class="code_block"><pre>
<span class="Comment">#include &quot;api.wml&quot;</span>

<span class="Comment">#include &quot;questions.wml&quot;</span>
</pre></div><h2>answers.html.wml</h2><div class="code_block"><pre>
<span class="Comment">#include &quot;api.wml&quot;</span>

<span class="Identifier">&lt;</span>set-<span class="Statement">var</span><span class="Identifier"> render-body=</span><span class="Constant">&quot;yes&quot;</span><span class="Identifier"> /&gt;</span>

<span class="Comment">#include &quot;questions.wml&quot;</span>
</pre></div><hr/></section><section class="page"><header><h2 id="page--faq-l--result--PAGE">9.4. The Result</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--faq-l--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--faq-l--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--faq-l--index_answers--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--apis--DIR" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--faq-l--DIR">WebMetaLecture - a lecture about Website Meta Language</a> → <a href="#page--faq-l--DIR">Example 5 : An FAQ List</a> → <a href="#page--faq-l--result--PAGE">The Result</a></div></nav><p>You can see the result <a href="http://www.shlomifish.org/lecture/WebMetaLecture/rendered/faq-l/">here</a></p><hr/></section><section class="page"><header><h2 id="page--apis--DIR">10. Demonstrating Some APIs</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--faq-l--result--PAGE" class="nav" accesskey="p">Prev</a></td><td><a href="#page--apis--grid--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--DIR">WebMetaLecture - a lecture about Website Meta Language</a> → <a href="#page--apis--DIR">Demonstrating Some APIs</a></div></nav><ul class="point"><li>WML ships with many built-in APIs that can be used to simplify some web-design tasks.</li><li>This section will demonstrate two of them.</li></ul><ul class="contentsmain"><li><a href="#page--apis--grid--PAGE" class="contents">10.1. grid</a></li><li><a href="#page--apis--toc--PAGE" class="contents">10.2. toc</a></li></ul><hr/></section><section class="page"><header><h2 id="page--apis--grid--PAGE">10.1. grid</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--apis--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--apis--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--apis--DIR" class="nav" accesskey="p">Prev</a></td><td><a href="#page--apis--toc--PAGE" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="#page--apis--DIR">WebMetaLecture - a lecture about Website Meta Language</a> → <a href="#page--apis--DIR">Demonstrating Some APIs</a> → <a href="#page--apis--grid--PAGE">grid</a></div></nav><ul class="point"><li><code>grid</code> is an abstraction around the HTML table.</li></ul><div class="code_block"><pre>
<span class="PreProc">#use</span><span class="Constant"> wml::std::grid</span>
<span class="Identifier">&lt;</span><span class="Statement">grid</span><span class="Identifier"> </span><span class="Type">layout</span><span class="Identifier">=</span><span class="Constant">2x3</span><span class="Identifier"> </span><span class="Type">align</span><span class="Identifier">=</span><span class="Constant">lr</span><span class="Identifier"> </span><span class="Type">valign</span><span class="Identifier">=</span><span class="Constant">tbb</span><span class="Identifier"> </span><span class="Type">border</span><span class="Identifier">=</span><span class="Constant">1</span><span class="Identifier">&gt;</span>
    <span class="Identifier">&lt;</span><span class="Statement">cell</span><span class="Identifier">&gt;</span>Header 1<span class="Identifier">&lt;/</span><span class="Statement">cell</span><span class="Identifier">&gt;</span> <span class="Identifier">&lt;</span><span class="Statement">cell</span><span class="Identifier">&gt;</span>Header 2<span class="Identifier">&lt;/</span><span class="Statement">cell</span><span class="Identifier">&gt;</span>
    <span class="Identifier">&lt;</span><span class="Statement">cell</span><span class="Identifier">&gt;</span>Cell-A<span class="Identifier">&lt;/</span><span class="Statement">cell</span><span class="Identifier">&gt;</span>   <span class="Identifier">&lt;</span><span class="Statement">cell</span><span class="Identifier">&gt;</span>Cell-B<span class="Identifier">&lt;/</span><span class="Statement">cell</span><span class="Identifier">&gt;</span>
    <span class="Identifier">&lt;</span><span class="Statement">cell</span><span class="Identifier">&gt;</span>Cell-C<span class="Identifier">&lt;/</span><span class="Statement">cell</span><span class="Identifier">&gt;</span>   <span class="Identifier">&lt;</span><span class="Statement">cell</span><span class="Identifier">&gt;</span>Cell-D<span class="Identifier">&lt;/</span><span class="Statement">cell</span><span class="Identifier">&gt;</span>
<span class="Identifier">&lt;/</span><span class="Statement">grid</span><span class="Identifier">&gt;</span>
</pre></div><hr/></section><section class="page"><header><h2 id="page--apis--toc--PAGE">10.2. toc</h2></header><nav><table class="page-nav-bar top"><tr><td><a href="#page--apis--DIR" class="nav" accesskey="c">Contents</a></td><td><a href="#page--apis--DIR" class="nav" accesskey="u">Up</a></td><td><a href="#page--apis--grid--PAGE" class="nav" accesskey="p">Prev</a></td><td><b>Next</b></td></tr></table><div class="bread"><a href="#page--apis--DIR">WebMetaLecture - a lecture about Website Meta Language</a> → <a href="#page--apis--DIR">Demonstrating Some APIs</a> → <a href="#page--apis--toc--PAGE">toc</a></div></nav><ul class="point"><li><code>toc</code> automatically creates a table of contents from the <code>&lt;h1&gt;</code>, <code>&lt;h2&gt;</code>, etc. headers found in the HTML.</li></ul><div class="code_block"><pre>
<span class="PreProc">#use</span><span class="Constant"> wml::std::toc</span>
<span class="PreProc">#use</span><span class="Constant"> wml::std::page</span>

<span class="Identifier">&lt;</span><span class="Statement">page</span><span class="Identifier"> /&gt;</span>
<span class="Identifier">&lt;</span><span class="Statement">h1</span><span class="Identifier">&gt;</span>My Page<span class="Identifier">&lt;/</span><span class="Statement">h1</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">p</span><span class="Identifier">&gt;</span>
This is my page
<span class="Identifier">&lt;/</span><span class="Statement">p</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">h2</span><span class="Identifier">&gt;</span>Section 1<span class="Identifier">&lt;/</span><span class="Statement">h2</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">p</span><span class="Identifier">&gt;</span>
This is section 1
<span class="Identifier">&lt;/</span><span class="Statement">p</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">h2</span><span class="Identifier">&gt;</span>Section 2<span class="Identifier">&lt;/</span><span class="Statement">h2</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">p</span><span class="Identifier">&gt;</span>
This is section 2
<span class="Identifier">&lt;/</span><span class="Statement">p</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">h3</span><span class="Identifier">&gt;</span>Sub-section 2.1<span class="Identifier">&lt;/</span><span class="Statement">h3</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">p</span><span class="Identifier">&gt;</span>
This is a subsection
<span class="Identifier">&lt;/</span><span class="Statement">p</span><span class="Identifier">&gt;</span>

<span class="Identifier">&lt;</span><span class="Statement">toc</span><span class="Identifier"> /&gt;</span>
</pre></div><hr/></section></body></html>
<?xml version="1.0" encoding="utf-8"?><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-GB" lang="en-GB"><head><meta charset="utf-8"/><link rel="stylesheet" href="../style.css" type="text/css"/><link rel="prev" href="./"/><link rel="next" href="../arrays/"/><title>last and next</title></head><body><main><header><h1>8.1. last and next</h1></header><nav><table class="page-nav-bar top"><tr><td><a href="../" class="nav" accesskey="c">Contents</a></td><td><a href="./" class="nav" accesskey="u">Up</a></td><td><a href="./" class="nav" accesskey="p">Prev</a></td><td><a href="../arrays/" class="nav" accesskey="n">Next</a></td></tr></table><div class="bread"><a href="../">"Perl for Perl Newbies" - Part 1</a> → <a href="./">The While Loop</a> → <a href="last_and_next.html">last and next</a></div></nav><p>Within the <code>while</code> and <code>for</code> loops one can use two special commands, called <code>last</code> and <code>next</code>. <code>last</code> terminates a loop prematurely while <code>next</code> skips the rest of the remaining loop body, skips to the loop condition and if it is met, executes the loop again.</p><p>By default, <code>last</code> and <code>next</code> operate on the most innermost loop. However, the loop to which they relate can be controlled by labelling the requested loop and specifying this label as a parameter to <code>last</code> or <code>next</code>.</p><p>The following example is a rewrite of the "All A's" program using <code>last</code>:</p><div class="code_block"><pre>
<span class="Statement">print</span> <span class="Constant">&quot;Please enter a string:</span><span class="Special">\n</span><span class="Constant">&quot;</span>;
<span class="Identifier">$string</span>=&lt;&gt;;
<span class="Statement">chomp</span>(<span class="Identifier">$string</span>);

<span class="Comment"># The first position in the string.</span>
<span class="Identifier">$position</span> = <span class="Constant">0</span>;

<span class="Statement">while</span> (<span class="Identifier">$position</span> &lt; <span class="Statement">length</span>(<span class="Identifier">$string</span>))
&#x7B;
    <span class="Identifier">$char</span> = <span class="Statement">lc</span>(<span class="Statement">substr</span>(<span class="Identifier">$string</span>, <span class="Identifier">$position</span>, <span class="Constant">1</span>));

    <span class="Statement">if</span> (<span class="Identifier">$char</span> <span class="Statement">ne</span> <span class="Constant">&quot;a&quot;</span>)
    &#x7B;
        <span class="Statement">last</span>;
    &#x7D;

    <span class="Comment"># Increment the position</span>
    <span class="Identifier">$position</span>++;
&#x7D;

<span class="Comment"># If the position is the end of the string it means the loop was not</span>
<span class="Comment"># terminated prematurely, so an &quot;a&quot; was not encountered.</span>
<span class="Statement">if</span> (<span class="Identifier">$position</span> == <span class="Statement">length</span>(<span class="Identifier">$string</span>))
&#x7B;
    <span class="Statement">print</span> <span class="Constant">&quot;The string you entered is all A's!</span><span class="Special">\n</span><span class="Constant">&quot;</span>;
&#x7D;
<span class="Statement">else</span>
&#x7B;
    <span class="Statement">print</span> <span class="Constant">&quot;At least one of the characters in the string &quot;</span> .
        <span class="Constant">&quot;you entered is not </span><span class="Special">\&quot;</span><span class="Constant">A</span><span class="Special">\&quot;</span><span class="Constant">.</span><span class="Special">\n</span><span class="Constant">&quot;</span>;
&#x7D;
</pre></div><hr/><p>This program prints a left-tilted pyramid:</p><div class="code_block"><pre>
<span class="Statement">print</span> <span class="Constant">&quot;Please enter the length of the pyramid:</span><span class="Special">\n</span><span class="Constant">&quot;</span>;
<span class="Identifier">$size</span> = &lt;&gt;;
<span class="Statement">chomp</span>(<span class="Identifier">$size</span>);

<span class="Statement">ROW_LOOP:</span> <span class="Statement">for</span> <span class="Identifier">$row</span> (<span class="Constant">1</span> .. <span class="Identifier">$size</span>)
&#x7B;
    <span class="Statement">for</span> <span class="Identifier">$column</span> (<span class="Constant">1</span> .. (<span class="Identifier">$size</span>+<span class="Constant">1</span>))
    &#x7B;
        <span class="Statement">if</span> (<span class="Identifier">$column</span> &gt; <span class="Identifier">$row</span>)
        &#x7B;
            <span class="Statement">print</span> <span class="Constant">&quot;</span><span class="Special">\n</span><span class="Constant">&quot;</span>;
            <span class="Statement">next</span> ROW_LOOP;
        &#x7D;
        <span class="Statement">print</span> <span class="Constant">&quot;#&quot;</span>;
    &#x7D;
&#x7D;
</pre></div><p>"ROW_LOOP" is the label for the outer loop, and it can be seen that <code>next</code> uses it as a parameter. All in all, <code>next</code> and <code>last</code> are sometimes very convenient (but don't tell it to <a href="http://en.wikipedia.org/wiki/Edsger_Dijkstra">Edsger W. Dijkstra</a>'s face!), so you will see them being used often.</p><hr/></main><nav><table class="page-nav-bar bottom"><tr><td><a href="../" class="nav">Contents</a></td><td><a href="./" class="nav">Up</a></td><td><a href="./" class="nav">Prev</a></td><td><a href="../arrays/" class="nav">Next</a></td></tr></table></nav><p>Written by <a href="http://www.shlomifish.org/">Shlomi Fish</a></p><footer></footer></body></html>